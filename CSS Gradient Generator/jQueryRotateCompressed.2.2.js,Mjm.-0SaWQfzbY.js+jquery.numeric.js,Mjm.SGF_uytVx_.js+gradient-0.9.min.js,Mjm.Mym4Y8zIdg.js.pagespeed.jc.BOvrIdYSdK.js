(function(j) {
	for (var d, k = document.getElementsByTagName("head")[0].style, h = ["transformProperty", "WebkitTransform", "OTransform", "msTransform", "MozTransform"], g = 0; g < h.length; g++) void 0 !== k[h[g]] && (d = h[g]);
	var i = "v" == "\\v";
	jQuery.fn.extend({
		rotate: function(a) {
			if (!(0 === this.length || "undefined" == typeof a)) {
				"number" == typeof a && (a = {
					angle: a
				});
				for (var b = [], c = 0, f = this.length; c < f; c++) {
					var e = this.get(c);
					if (!e.Wilq32 || !e.Wilq32.PhotoEffect) {
						var d = j.extend(!0, {}, a),
							e = (new Wilq32.PhotoEffect(e, d))._rootObj;
						b.push(j(e))
					} else e.Wilq32.PhotoEffect._handleRotation(a)
				}
				return b
			}
		},
		getRotateAngle: function() {
			for (var a = [], b = 0, c = this.length; b < c; b++) {
				var f = this.get(b);
				f.Wilq32 && f.Wilq32.PhotoEffect && (a[b] = f.Wilq32.PhotoEffect._angle)
			}
			return a
		},
		stopRotate: function() {
			for (var a = 0, b = this.length; a < b; a++) {
				var c = this.get(a);
				c.Wilq32 && c.Wilq32.PhotoEffect && clearTimeout(c.Wilq32.PhotoEffect._timer)
			}
		}
	});
	Wilq32 = window.Wilq32 || {};
	Wilq32.PhotoEffect = function() {
		return d ? function(a, b) {
			a.Wilq32 = {
				PhotoEffect: this
			};
			this._img = this._rootObj = this._eventObj = a;
			this._handleRotation(b)
		} : function(a, b) {
			this._img = a;
			this._rootObj = document.createElement("span");
			this._rootObj.style.display = "inline-block";
			this._rootObj.Wilq32 = {
				PhotoEffect: this
			};
			a.parentNode.insertBefore(this._rootObj, a);
			if (a.complete) this._Loader(b);
			else {
				var c = this;
				jQuery(this._img).bind("load", function() {
					c._Loader(b)
				})
			}
		}
	}();
	Wilq32.PhotoEffect.prototype = {
		_setupParameters: function(a) {
			this._parameters = this._parameters || {};
			"number" !== typeof this._angle && (this._angle = 0);
			"number" === typeof a.angle && (this._angle = a.angle);
			this._parameters.animateTo = "number" === typeof a.animateTo ? a.animateTo : this._angle;
			this._parameters.step = a.step || this._parameters.step || null;
			this._parameters.easing = a.easing || this._parameters.easing || function(a, c, f, e, d) {
				return -e * ((c = c / d - 1) * c * c * c - 1) + f
			};
			this._parameters.duration = a.duration || this._parameters.duration || 1E3;
			this._parameters.callback = a.callback || this._parameters.callback || function() {};
			a.bind && a.bind != this._parameters.bind && this._BindEvents(a.bind)
		},
		_handleRotation: function(a) {
			this._setupParameters(a);
			this._angle == this._parameters.animateTo ? this._rotate(this._angle) : this._animateStart()
		},
		_BindEvents: function(a) {
			if (a && this._eventObj) {
				if (this._parameters.bind) {
					var b = this._parameters.bind,
						c;
					for (c in b) b.hasOwnProperty(c) && jQuery(this._eventObj).unbind(c, b[c])
				}
				this._parameters.bind = a;
				for (c in a) a.hasOwnProperty(c) && jQuery(this._eventObj).bind(c, a[c])
			}
		},
		_Loader: function() {
			return i ? function(a) {
				var b = this._img.width,
					c = this._img.height;
				this._img.parentNode.removeChild(this._img);
				this._vimage = this.createVMLNode("image");
				this._vimage.src = this._img.src;
				this._vimage.style.height = c + "px";
				this._vimage.style.width = b + "px";
				this._vimage.style.position = "absolute";
				this._vimage.style.top = "0px";
				this._vimage.style.left = "0px";
				this._container = this.createVMLNode("group");
				this._container.style.width = b;
				this._container.style.height = c;
				this._container.style.position = "absolute";
				this._container.setAttribute("coordsize", b - 1 + "," + (c - 1));
				this._container.appendChild(this._vimage);
				this._rootObj.appendChild(this._container);
				this._rootObj.style.position = "relative";
				this._rootObj.style.width = b + "px";
				this._rootObj.style.height = c + "px";
				this._rootObj.setAttribute("id", this._img.getAttribute("id"));
				this._rootObj.className = this._img.className;
				this._eventObj = this._rootObj;
				this._handleRotation(a)
			} : function(a) {
				this._rootObj.setAttribute("id", this._img.getAttribute("id"));
				this._rootObj.className = this._img.className;
				this._width = this._img.width;
				this._height = this._img.height;
				this._widthHalf = this._width / 2;
				this._heightHalf = this._height / 2;
				var b = Math.sqrt(this._height * this._height + this._width * this._width);
				this._widthAdd = b - this._width;
				this._heightAdd = b - this._height;
				this._widthAddHalf = this._widthAdd / 2;
				this._heightAddHalf = this._heightAdd / 2;
				this._img.parentNode.removeChild(this._img);
				this._aspectW = (parseInt(this._img.style.width, 10) || this._width) / this._img.width;
				this._aspectH = (parseInt(this._img.style.height, 10) || this._height) / this._img.height;
				this._canvas = document.createElement("canvas");
				this._canvas.setAttribute("width", this._width);
				this._canvas.style.position = "relative";
				this._canvas.style.left = -this._widthAddHalf + "px";
				this._canvas.style.top = -this._heightAddHalf + "px";
				this._canvas.Wilq32 = this._rootObj.Wilq32;
				this._rootObj.appendChild(this._canvas);
				this._rootObj.style.width = this._width + "px";
				this._rootObj.style.height = this._height + "px";
				this._eventObj = this._canvas;
				this._cnv = this._canvas.getContext("2d");
				this._handleRotation(a)
			}
		}(),
		_animateStart: function() {
			this._timer && clearTimeout(this._timer);
			this._animateStartTime = +new Date;
			this._animateStartAngle = this._angle;
			this._animate()
		},
		_animate: function() {
			var a = +new Date,
				b = a - this._animateStartTime > this._parameters.duration;
			if (b && !this._parameters.animatedGif) clearTimeout(this._timer);
			else {
				(this._canvas || this._vimage || this._img) && this._rotate(~~(10 * this._parameters.easing(0, a - this._animateStartTime, this._animateStartAngle, this._parameters.animateTo - this._animateStartAngle, this._parameters.duration)) / 10);
				this._parameters.step && this._parameters.step(this._angle);
				var c = this;
				this._timer = setTimeout(function() {
					c._animate.call(c)
				}, 10)
			}
			this._parameters.callback && b && (this._angle = this._parameters.animateTo, this._rotate(this._angle), this._parameters.callback.call(this._rootObj))
		},
		_rotate: function() {
			var a = Math.PI / 180;
			return i ? function(a) {
				this._angle = a;
				this._container.style.rotation = a % 360 + "deg"
			} : d ? function(a) {
				this._angle = a;
				this._img.style[d] = "rotate(" + a % 360 + "deg)"
			} : function(b) {
				this._angle = b;
				b = b % 360 * a;
				this._canvas.width = this._width + this._widthAdd;
				this._canvas.height = this._height + this._heightAdd;
				this._cnv.translate(this._widthAddHalf, this._heightAddHalf);
				this._cnv.translate(this._widthHalf, this._heightHalf);
				this._cnv.rotate(b);
				this._cnv.translate(-this._widthHalf, -this._heightHalf);
				this._cnv.scale(this._aspectW, this._aspectH);
				this._cnv.drawImage(this._img, 0, 0)
			}
		}()
	};
	i && (Wilq32.PhotoEffect.prototype.createVMLNode = function() {
		document.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)");
		try {
			return !document.namespaces.rvml && document.namespaces.add("rvml", "urn:schemas-microsoft-com:vml"),
				function(a) {
					return document.createElement("<rvml:" + a + ' class="rvml">')
				}
		} catch (a) {
			return function(a) {
				return document.createElement("<" + a + ' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')
			}
		}
	}())
})(jQuery);
(function($) {
	$.fn.numeric = function(config, callback) {
		if (typeof config === 'boolean') {
			config = {
				decimal: config
			};
		}
		config = config || {};
		if (typeof config.negative == "undefined") config.negative = true;
		var decimal = (config.decimal === false) ? "" : config.decimal || ".";
		var negative = (config.negative === true) ? true : false;
		var callback = typeof callback == "function" ? callback : function() {};
		return this.data("numeric.decimal", decimal).data("numeric.negative", negative).data("numeric.callback", callback).keypress($.fn.numeric.keypress).keyup($.fn.numeric.keyup).blur($.fn.numeric.blur);
	}
	$.fn.numeric.keypress = function(e) {
		var decimal = $.data(this, "numeric.decimal");
		var negative = $.data(this, "numeric.negative");
		var key = e.charCode ? e.charCode : e.keyCode ? e.keyCode : 0;
		if (key == 13 && this.nodeName.toLowerCase() == "input") {
			return true;
		} else if (key == 13) {
			return false;
		}
		var allow = false;
		if ((e.ctrlKey && key == 97) || (e.ctrlKey && key == 65)) return true;
		if ((e.ctrlKey && key == 120) || (e.ctrlKey && key == 88)) return true;
		if ((e.ctrlKey && key == 99) || (e.ctrlKey && key == 67)) return true;
		if ((e.ctrlKey && key == 122) || (e.ctrlKey && key == 90)) return true;
		if ((e.ctrlKey && key == 118) || (e.ctrlKey && key == 86) || (e.shiftKey && key == 45)) return true;
		if (key < 48 || key > 57) {
			if (this.value.indexOf("-") != 0 && negative && key == 45 && (this.value.length == 0 || ($.fn.getSelectionStart(this)) == 0)) return true;
			if (decimal && key == decimal.charCodeAt(0) && this.value.indexOf(decimal) != -1) {
				allow = false;
			}
			if (key != 8 && key != 9 && key != 13 && key != 35 && key != 36 && key != 37 && key != 39 && key != 46) {
				allow = false;
			} else {
				if (typeof e.charCode != "undefined") {
					if (e.keyCode == e.which && e.which != 0) {
						allow = true;
						if (e.which == 46) allow = false;
					} else if (e.keyCode != 0 && e.charCode == 0 && e.which == 0) {
						allow = true;
					}
				}
			} if (decimal && key == decimal.charCodeAt(0)) {
				if (this.value.indexOf(decimal) == -1) {
					allow = true;
				} else {
					allow = false;
				}
			}
		} else {
			allow = true;
		}
		return allow;
	}
	$.fn.numeric.keyup = function(e) {
		var val = this.value;
		if (val.length > 0) {
			var carat = $.fn.getSelectionStart(this);
			var decimal = $.data(this, "numeric.decimal");
			var negative = $.data(this, "numeric.negative");
			if (decimal != "") {
				var dot = val.indexOf(decimal);
				if (dot == 0) {
					this.value = "0" + val;
				}
				if (dot == 1 && val.charAt(0) == "-") {
					this.value = "-0" + val.substring(1);
				}
				val = this.value;
			}
			var validChars = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, '-', decimal];
			var length = val.length;
			for (var i = length - 1; i >= 0; i--) {
				var ch = val.charAt(i);
				if (i != 0 && ch == "-") {
					val = val.substring(0, i) + val.substring(i + 1);
				} else if (i == 0 && !negative && ch == "-") {
					val = val.substring(1);
				}
				var validChar = false;
				for (var j = 0; j < validChars.length; j++) {
					if (ch == validChars[j]) {
						validChar = true;
						break;
					}
				}
				if (!validChar || ch == " ") {
					val = val.substring(0, i) + val.substring(i + 1);
				}
			}
			var firstDecimal = val.indexOf(decimal);
			if (firstDecimal > 0) {
				for (var i = length - 1; i > firstDecimal; i--) {
					var ch = val.charAt(i);
					if (ch == decimal) {
						val = val.substring(0, i) + val.substring(i + 1);
					}
				}
			}
			this.value = val;
			$.fn.setSelection(this, carat);
		}
	}
	$.fn.numeric.blur = function() {
		var decimal = $.data(this, "numeric.decimal");
		var callback = $.data(this, "numeric.callback");
		var val = this.value;
		if (val != "") {
			var re = new RegExp("^\\d+$|\\d*" + decimal + "\\d+");
			if (!re.exec(val)) {
				callback.apply(this);
			}
		}
	}
	$.fn.removeNumeric = function() {
		return this.data("numeric.decimal", null).data("numeric.negative", null).data("numeric.callback", null).unbind("keypress", $.fn.numeric.keypress).unbind("blur", $.fn.numeric.blur);
	}
	$.fn.getSelectionStart = function(o) {
		if (o.createTextRange) {
			var r = document.selection.createRange().duplicate();
			r.moveEnd('character', o.value.length);
			if (r.text == '') return o.value.length;
			return o.value.lastIndexOf(r.text);
		} else return o.selectionStart;
	}
	$.fn.setSelection = function(o, p) {
		if (typeof p == "number") p = [p, p];
		if (p && p.constructor == Array && p.length == 2) {
			if (o.createTextRange) {
				var r = o.createTextRange();
				r.collapse(true);
				r.moveStart('character', p[0]);
				r.moveEnd('character', p[1]);
				r.select();
			} else if (o.setSelectionRange) {
				o.focus();
				o.setSelectionRange(p[0], p[1]);
			}
		}
	}
})(jQuery);
$(function() {
	var x, fa, ga, B, T, C, D, U, V;

	function za(a) {
		return (rgb = a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i)) ? ("0" + parseInt(rgb[1], 10).toString(16)).slice(-2) + ("0" + parseInt(rgb[2], 10).toString(16)).slice(-2) + ("0" + parseInt(rgb[3], 10).toString(16)).slice(-2) : a.slice(1)
	}

	function I(a) {
		return parseInt(a.substring(0, 2), 16)
	}

	function J(a) {
		return parseInt(a.substring(2, 4), 16)
	}

	function K(a) {
		return parseInt(a.substring(4, 6), 16)
	}

	function ra(a) {
		a = parseInt(a, 10);
		if (isNaN(a)) return "00";
		a = Math.max(0, Math.min(a, 255));
		return "0123456789ABCDEF".charAt((a - a % 16) / 16) + "0123456789ABCDEF".charAt(a % 16)
	}

	function sa(a) {
		a = parseInt(a / 100 * 255, 10);
		if (isNaN(a)) return "00";
		a = Math.max(0, Math.min(a, 255));
		return "0123456789ABCDEF".charAt((a - a % 16) / 16) + "0123456789ABCDEF".charAt(a % 16)
	}

	function ha(a, b, c) {
		return ra(a) + ra(b) + ra(c)
	}

	function ta(a, b) {
		var c = a;
		"string" == typeof c && -1 != c.indexOf(".") && 1 === parseFloat(c) && (a = "100%");
		c = "string" === typeof a && -1 != a.indexOf("%");
		a = Ja(b, Ka(0, parseFloat(a)));
		c && (a = parseInt(a * b) / 100);
		return 1E-6 > ja.abs(a - b) ? 1 : a % b / parseFloat(b)
	}

	function Aa(a, b, c) {
		a = 6 * ta(a, 360);
		b = ta(b, 100);
		c = ta(c, 100);
		var d = ja.floor(a),
			e = a - d;
		a = c * (1 - b);
		var h = c * (1 - e * b);
		b = c * (1 - (1 - e) * b);
		d %= 6;
		return [255 * [c, h, a, a, b, c][d], 255 * [b, c, c, h, a, a][d], 255 * [a, a, b, c, c, h][d]]
	}

	function Ba(a, b, c) {
		a /= 255;
		b /= 255;
		c /= 255;
		var d = Math.max(a, b, c),
			h = Math.min(a, b, c),
			e, g = d - h;
		if (d == h) e = 0;
		else {
			switch (d) {
				case a:
					e = (b - c) / g + (b < c ? 6 : 0);
					break;
				case b:
					e = (c - a) / g + 2;
					break;
				case c:
					e = (a - b) / g + 4
			}
			e /= 6
		}
		return [e, 0 == d ? 0 : g / d, d]
	}

	function ka(a, b, c) {
		for (ua = Math.max(a, b, c); 255 > ua;) a++, b++, c++, ua++;
		return ha(a, b, c)
	}

	function La(a, b) {
		for (u = 0; u < a.length; u++)
			if (a[u][0] == b) return L = u, !0;
		return !1
	}

	function la() {
		hue = W.val();
		sat = X.val();
		lum = Y.val();
		"" == hue && (hue = 0);
		"" == sat && (sat = 0);
		"" == lum && (lum = 0);
		rgb = Aa(hue, sat, lum);
		rgb[0] = Math.round(rgb[0]);
		rgb[1] = Math.round(rgb[1]);
		rgb[2] = Math.round(rgb[2]);
		$("#c_red").val(rgb[0]);
		$("#c_green").val(rgb[1]);
		$("#c_blue").val(rgb[2]);
		hex = ha(rgb[0], rgb[1], rgb[2]);
		$("#c_hex").val(hex);
		max_bright = "#" + ka(rgb[0], rgb[1], rgb[2]);
		$("#v_col").css("background-color", max_bright);
		$("#col").css("background-color", "#" + hex);
		e[y][1] = hex;
		M();
		r();
		q();
		n()
	}

	function va() {
		N = $("#c_red").val();
		O = $("#c_green").val();
		P = $("#c_blue").val();
		"" == N && (N = 0);
		"" == O && (O = 0);
		"" == P && (P = 0);
		hex = ha(N, O, P);
		hsb = Ba(N, O, P);
		Ca = Math.round(360 * hsb[0]);
		Da = Math.round(100 * hsb[1]);
		Ea = Math.round(100 * hsb[2]);
		W.val(Ca);
		X.val(Da);
		Y.val(Ea);
		$("#c_hex").val(hex);
		max_bright = "#" + ka(N, O, P);
		$("#v_col").css("background-color", max_bright);
		$("#col").css("background-color", "#" + hex);
		e[y][1] = hex;
		k = Z.offset();
		C = k.left + Math.round(256 * hsb[0]) - 7;
		D = k.top + (256 - Math.round(256 * hsb[1]) - 7);
		$(h.elem).offset({
			left: C,
			top: D
		});
		A = Fa.offset();
		B = A.top + Math.abs(Math.round(256 * hsb[2]) - 256) - 5;
		$(t.elem).offset({
			top: B
		});
		M();
		r();
		q();
		n()
	}

	function wa() {
		hue = W.val();
		sat = X.val();
		lum = Y.val();
		"" == hue && (hue = 0);
		"" == sat && (sat = 0);
		"" == lum && (lum = 0);
		rgb = Aa(hue, sat, lum);
		rgb[0] = Math.round(rgb[0]);
		rgb[1] = Math.round(rgb[1]);
		rgb[2] = Math.round(rgb[2]);
		$("#c_red").val(rgb[0]);
		$("#c_green").val(rgb[1]);
		$("#c_blue").val(rgb[2]);
		hex = ha(rgb[0], rgb[1], rgb[2]);
		$("#c_hex").val(hex);
		max_bright = "#" + ka(rgb[0], rgb[1], rgb[2]);
		$("#v_col").css("background-color", max_bright);
		$("#col").css("background-color", "#" + hex);
		e[y][1] = hex;
		M();
		r();
		q();
		n()
	}

	function ia(a) {
		N = I(a);
		O = J(a);
		P = K(a);
		hsb = Ba(N, O, P);
		$("#col").css("background-color", "#" + a);
		$("#c_red").val(N);
		$("#c_green").val(O);
		$("#c_blue").val(P);
		W.val(Math.round(360 * hsb[0]));
		X.val(Math.round(100 * hsb[1]));
		Y.val(Math.round(100 * hsb[2]));
		$("#c_hex").val(a);
		max_bright = "#" + ka(N, O, P);
		$("#v_col").css("background-color", max_bright);
		k = Z.offset();
		C = k.left + Math.round(256 * hsb[0]) - 7;
		D = k.top + (256 - Math.round(256 * hsb[1]) - 7);
		$(h.elem).offset({
			left: C,
			top: D
		});
		A = Fa.offset();
		B = A.top + Math.abs(Math.round(256 * hsb[2]) - 256) - 5;
		$(t.elem).offset({
			top: B
		})
	}

	function aa() {
		E = g.length;
		$(".cs_tpt").remove();
		for (b = 0; b < E; b++) H == b ? ($("#t_loc").val(g[b][0]), $("#t_alpha").val(g[b][1]), L = 4.5 * g[b][0] - 5, opacity = g[b][1] / 100, addelement = "<div class='cs_tpt active' style='left:" + L + "px' ><div style='background-color:black;opacity:" + opacity + ";filter:alpha(opacity=" + g[b][1] + ")'></div></div>") : (L = 4.5 * g[b][0] - 5, opacity = g[b][1] / 100, addelement = "<div class='cs_tpt' style='left:" + L + "px' ><div style='background-color:black;opacity:" + opacity + ";filter:alpha(opacity=" + g[b][1] + ")'></div></div>"), $(".cs_t").append(addelement)
	}

	function M() {
		F = e.length;
		$(".cs_bpt").remove();
		for (b = 0; b < F; b++) b == y ? ($("#b_loc").val(e[b][0]), $("#b_col").val("#" + e[b][1]), L = 4.5 * e[b][0] - 5, addelement = "<div class='cs_bpt active' style='left:" + L + "px' ><div style='background-color:#" + e[b][1] + "'></div></div>") : (L = 4.5 * e[b][0] - 5, addelement = "<div class='cs_bpt' style='left:" + L + "px' ><div style='background-color:#" + e[b][1] + "'></div></div>"), $(".cs_b").append(addelement)
	}

	function q() {
		len = c.length;
		var a = "",
			f = "",
			m = "";
		for (b = 0; b < len; b++) alpha = c[b][2] / 100, rgba = "rgba(" + I(c[b][1]) + "," + J(c[b][1]) + "," + K(c[b][1]) + "," + alpha + ")", 0 == b ? (ie_hex_first = c[b][1], f += "color-stop(" + c[b][0] + "%, " + rgba + ")", m += "color-stop(" + (100 - c[b][0]) + "%, " + rgba + ")", a += rgba + " " + c[b][0] + "%") : (f += ", color-stop(" + c[b][0] + "%, " + rgba + ")", m = "color-stop(" + (100 - c[b][0]) + "%, " + rgba + "), " + m, a += ", " + rgba + " " + c[b][0] + "%");
		ie_hex_last = c[len - 1][1];
		"l" == z ? $.browser.msie ? (degree_pos = Math.round(d / 90), ie_old = 0 == degree_pos ? "startColorstr='#" + ie_hex_first + "', endColorstr='#" + ie_hex_last + "'" : 1 == degree_pos ? "startColorstr='#" + ie_hex_last + "', endColorstr='#" + ie_hex_first + "'" : 2 == degree_pos ? "startColorstr='#" + ie_hex_last + "', endColorstr='#" + ie_hex_first + "'" : "startColorstr='#" + ie_hex_first + "', endColorstr='#" + ie_hex_last + "'", $("#s_bg div").css({
			background: "-ms-linear-gradient(left, " + a + ")",
			filter: "progid:DXImageTransform.Microsoft.gradient( startColorstr='#" + ie_hex_first + "',   endColorstr='#" + ie_hex_last + "',GradientType=1 )"
		}), $("#p_col div").css({
			background: "-ms-linear-gradient(" + d + "deg, " + a + ")",
			filter: "progid:DXImageTransform.Microsoft.gradient( " + ie_old + ",GradientType=" + ie_degree + ")"
		})) : $.browser.safari || $.browser.chrome ? (degree_pos = Math.round(d / 45), old_webkit_rgba = 0 == degree_pos ? "left top, right top, " + f : 1 == degree_pos ? "left bottom, right top, " + f : 2 == degree_pos ? "left top, left bottom, " + m : 3 == degree_pos ? "left top, right bottom, " + m : 4 == degree_pos ? "left top, right top, " + m : 5 == degree_pos ? "left bottom, right top, " + m : 6 == degree_pos ? "left top, left bottom, " + f : 7 == degree_pos ? "left top, right bottom, " + f : "left top, right top, " + f, $("#s_bg div").css({
			background: "-webkit-gradient(linear, " + old_webkit_rgba + ")",
			background: "-webkit-linear-gradient(left, " + a + ")"
		}), $("#p_col div").css({
			background: "-webkit-gradient(linear, left top, right top," + f + ")",
			background: "-webkit-linear-gradient(" + d + "deg, " + a + ")"
		})) : $.browser.mozilla ? ($("#s_bg div").css({
			background: "-moz-linear-gradient(left, " + a + ")"
		}), $("#p_col div").css({
			background: "-moz-linear-gradient(" + d + "deg, " + a + ")"
		})) : $.browser.opera ? ($("#s_bg div").css({
			background: "-o-linear-gradient(left, " + a + ")"
		}), $("#p_col div").css({
			background: "-o-linear-gradient(" + d + "deg, " + a + ")"
		})) : ($("#s_bg div").css({
			background: "linear-gradient(to right, " + a + ")"
		}), $("#p_col div").css({
			background: "linear-gradient(" + d + "deg, " + a + ")"
		})) : $.browser.msie ? ($("#s_bg div").css({
			background: "-ms-linear-gradient(left, " + a + ")",
			filter: "progid:DXImageTransform.Microsoft.gradient( startColorstr='#" + ie_hex_first + "',   endColorstr='#" + ie_hex_last + "',GradientType=1 )"
		}), $("#p_col div").css({
			background: "-ms-radial-gradient(center, ellipse cover, " + a + ")",
			filter: "progid:DXImageTransform.Microsoft.gradient( startColorstr='#" + ie_hex_first + "',   endColorstr='#" + ie_hex_last + "',GradientType=" + ie_degree + " )"
		})) : $.browser.safari || $.browser.chrome ? ($("#s_bg div").css({
			background: "-webkit-gradient(linear, left top, right top," + f + ")",
			background: "-webkit-linear-gradient(left, " + a + ")"
		}), $("#p_col div").css({
			background: "-webkit-gradient(radial, center center, 0px, center center, 100%," + f + ")",
			background: "-webkit-radial-gradient(center, ellipse cover, " + a + ")"
		})) : $.browser.mozilla ? ($("#s_bg div").css({
			background: "-moz-linear-gradient(left, " + a + ")"
		}), $("#p_col div").css({
			background: "-moz-radial-gradient(center, ellipse cover, " + a + ")"
		})) : $.browser.opera ? ($("#s_bg div").css({
			background: "-o-linear-gradient(left, " + a + ")"
		}), $("#p_col div").css({
			background: "-o-radial-gradient(center, ellipse cover, " + a + ")"
		})) : ($("#s_bg div").css({
			background: "linear-gradient(to right, " + a + ")"
		}), $("#p_col div").css({
			background: "radial-gradient(ellipse at center, " + a + ")"
		}))
	}

	function ba(a) {
		a = (new Number(a + "")).toFixed(2);
		return parseFloat(a)
	}

	function Ga(a, b, c) {
		var d, e = Math.atan(b / a);
		d = a / 2;
		var h = b / 2;
		c = Math.abs(Math.PI / 180 * (360 - c));
		var g = Math.abs(c - Math.PI) < e,
			n = c > 2 * Math.PI - e || c < e,
			k = Math.abs(c - Math.PI / 2) <= Math.abs(Math.PI / 2 - e),
			e = Math.abs(c - 3 * Math.PI / 2) <= Math.abs(Math.PI / 2 - e),
			g = (g ? -1 : 0) + (n ? 1 : 0),
			k = (e ? -1 : 0) + (k ? 1 : 0);
		g ? (d += a / 2 * g, c = h + a / 2 * Math.tan(c) * g) : (d += b / 2 * (k / Math.tan(c)), c = h + b / 2 * k);
		d = Math.round(d);
		c = Math.round(c);
		return {
			x0: a - d,
			y0: b - c,
			x1: d,
			y1: c
		}
	}

	function n() {
		len = c.length;
		if ("rgba" == R) {
			var a = "",
				f = "",
				m = "";
			for (b = 0; b < len; b++) rgba = "rgba(" + I(c[b][1]) + "," + J(c[b][1]) + "," + K(c[b][1]) + "," + c[b][2] / 100 + ")", 0 == b ? (ie_hex_first = c[b][1], f += "color-stop(" + c[b][0] + "%, " + rgba + ")", m += "color-stop(" + (100 - c[b][0]) + "%, " + rgba + ")", a += rgba + " " + c[b][0] + "%") : (f += ", color-stop(" + c[b][0] + "%, " + rgba + ")", m = "color-stop(" + (100 - c[b][0]) + "%, " + rgba + "), " + m, a += ", " + rgba + " " + c[b][0] + "%");
			ie_hex_last = c[len - 1][1];
			"l" == z ? (degree_pos = Math.round(d / 90), ie_old = 0 == degree_pos ? "startColorstr='#" + ie_hex_first + "', endColorstr='#" + ie_hex_last + "'" : 1 == degree_pos ? "startColorstr='#" + ie_hex_last + "', endColorstr='#" + ie_hex_first + "'" : 2 == degree_pos ? "startColorstr='#" + ie_hex_last + "', endColorstr='#" + ie_hex_first + "'" : "startColorstr='#" + ie_hex_first + "', endColorstr='#" + ie_hex_last + "'", degree_pos = Math.round(d / 45), old_webkit_rgba = 0 == degree_pos ? "left top, right top, " + f : 1 == degree_pos ? "left bottom, right top, " + f : 2 == degree_pos ? "left top, left bottom, " + m : 3 == degree_pos ? "left top, right bottom, " + m : 4 == degree_pos ? "left top, right top, " + m : 5 == degree_pos ? "left bottom, right top, " + m : 6 == degree_pos ? "left top, left bottom, " + f : 7 == degree_pos ? "left top, right bottom, " + f : "left top, right top, " + f, w3cdeg = Math.abs(d - 450) % 360, _css_rgba = "<div> <span class='b'>background</span>: <span class='r'>-moz-linear-gradient</span>(" + d + "deg, " + a + "); <span class='cm'>/* ff3.6+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-webkit-gradient</span>(linear, " + old_webkit_rgba + "); <span class='cm'>/* safari4+,chrome */</span> </div><div> <span class='b'>background</span>: <span class='r'>-webkit-linear-gradient</span>(" + d + "deg, " + a + "); <span class='cm'>/* safari5.1+,chrome10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-o-linear-gradient</span>(" + d + "deg, " + a + "); <span class='cm'>/* opera 11.10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-ms-linear-gradient</span>(" + d + "deg, " + a + "); <span class='cm'>/* ie10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>linear-gradient</span>(" + w3cdeg + "deg, " + a + "); <span class='cm'>/* w3c */</span> </div><div><span class='b'>filter</span>: <span class='r'>progid:DXImageTransform.Microsoft.gradient</span>( " + ie_old + ",GradientType=" + ie_degree + " ); <span class='cm'>/* ie6-9 */</span> </div>") : _css_rgba = "<div> <span class='b'>background</span>: <span class='r'>-moz-radial-gradient</span>(center, ellipse cover, " + a + ");  <span class='cm'>/* ff3.6+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-webkit-gradient</span>(radial, center center, 0px, center center, 100%, " + f + ");  <span class='cm'>/* safari4+,chrome */</span> </div><div> <span class='b'>background</span>:<span class='r'>-webkit-radial-gradient</span>(center, ellipse cover, " + a + ");  <span class='cm'>/* safari5.1+,chrome10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-o-radial-gradient</span>(center, ellipse cover, " + a + ");  <span class='cm'>/* opera 11.10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-ms-radial-gradient</span>(center, ellipse cover, " + a + ");  <span class='cm'>/* ie10+ */</span> </div><div> <span class='b'>background</span>:<span class='r'>radial-gradient</span>(ellipse at center, " + a + ");  <span class='cm'>/* w3c */</span> </div><div> <span class='b'>filter</span>: <span class='r'>progid:DXImageTransform.Microsoft.gradient</span>( startColorstr='#" + ie_hex_first + "', endColorstr='#" + ie_hex_last + "',GradientType=" + ie_degree + " );  <span class='cm'>/* ie6-9 */</span> </div>";
			ca.html(_css_rgba)
		} else if ("hex" == R) {
			m = f = a = "";
			for (b = 0; b < len; b++) 0 == b ? (ie_hex_first = c[b][1], f += "color-stop(" + c[b][0] + "%, #" + c[b][1] + ")", m += "color-stop(" + (100 - c[b][0]) + "%, #" + c[b][1] + ")", a += "#" + c[b][1] + " " + c[b][0] + "%") : (f += ", color-stop(" + c[b][0] + "%, #" + c[b][1] + ")", m = "color-stop(" + (100 - c[b][0]) + "%, #" + c[b][1] + "), " + m, a += ", #" + c[b][1] + " " + c[b][0] + "%");
			ie_hex_last = c[len - 1][1];
			"l" == z ? (degree_pos = Math.round(d / 90), ie_old = 0 == degree_pos ? "startColorstr='#" + ie_hex_first + "', endColorstr='#" + ie_hex_last + "'" : 1 == degree_pos ? "startColorstr='#" + ie_hex_last + "', endColorstr='#" + ie_hex_first + "'" : 2 == degree_pos ? "startColorstr='#" + ie_hex_last + "', endColorstr='#" + ie_hex_first + "'" : "startColorstr='#" + ie_hex_first + "', endColorstr='#" + ie_hex_last + "'", degree_pos = Math.round(d / 45), old_webkit_hex = 0 == degree_pos ? "left top, right top, " + f : 1 == degree_pos ? "left bottom, right top, " + f : 2 == degree_pos ? "left top, left bottom, " + m : 3 == degree_pos ? "left top, right bottom, " + m : 4 == degree_pos ? "left top, right top, " + m : 5 == degree_pos ? "left bottom, right top, " + m : 6 == degree_pos ? "left top, left bottom, " + f : 7 == degree_pos ? "left top, right bottom, " + f : "left top, right top, " + f, w3cdeg = Math.abs(d - 450) % 360, _css_hex = "<div> <span class='b'>background</span>: <span class='r'>-moz-linear-gradient</span>(" + d + "deg, " + a + ");  <span class='cm'>/* ff3.6+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-webkit-gradient</span>(linear, " + old_webkit_hex + ");  <span class='cm'>/* safari4+,chrome */</span> </div><div> <span class='b'>background</span>: <span class='r'>-webkit-linear-gradient</span>(" + d + "deg, " + a + ");  <span class='cm'>/* safari5.1+,chrome10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-o-linear-gradient</span>(" + d + "deg, " + a + ");  <span class='cm'>/* opera 11.10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-ms-linear-gradient</span>(" + d + "deg, " + a + ");  <span class='cm'>/* ie10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>linear-gradient</span>(" + w3cdeg + "deg, " + a + ");  <span class='cm'>/* w3c */</span> </div><div> <span class='b'>filter</span>: <span class='r'>progid:DXImageTransform.Microsoft.gradient</span>( " + ie_old + ",GradientType=" + ie_degree + " );  <span class='cm'>/* ie6-9 */</span> </div>") : _css_hex = "<div> <span class='b'>background</span>: <span class='r'>-moz-radial-gradient</span>(center, ellipse cover, " + a + ");  <span class='cm'>/* ff3.6+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-webkit-gradient</span>(radial, center center, 0px, center center, 100%, " + f + ");  <span class='cm'>/* safari4+,chrome */</span> </div><div> <span class='b'>background</span>: <span class='r'>-webkit-radial-gradient</span>(center, ellipse cover, " + a + ");  <span class='cm'>/* safari5.1+,chrome10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-o-radial-gradient</span>(center, ellipse cover, " + a + ");  <span class='cm'>/* opera 11.10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>-ms-radial-gradient</span>(center, ellipse cover, " + a + ");  <span class='cm'>/* ie10+ */</span> </div><div> <span class='b'>background</span>: <span class='r'>radial-gradient</span>(ellipse at center, " + a + ");  <span class='cm'>/* w3c */</span> </div><div> <span class='b'>filter</span>: <span class='r'>progid:DXImageTransform.Microsoft.gradient</span>( startColorstr='#" + ie_hex_first + "', endColorstr='#" + ie_hex_last + "',GradientType=" + ie_degree + " );  <span class='cm'>/* ie6-9 */</span> </div>";
			ca.html(_css_hex)
		} else if ("android" == R)
			ie_hex_first = c[0][1],
			aplha_hex_first = sa(c[0][2]), f = a = "",
			ie_hex_last = c[len - 1][1], aplha_hex_last = sa(c[len - 1][2]),
			2 < len && (a = "<span class='r'>android:centerX</span>=<span class='b'>\"" + c[1][0] + '%" </span><br/>',
				f = "<span class='r'>android:centerColor</span>=<span class='b'>\"#" + sa(c[1][2]) + "" + c[1][1] + '"</span><br/>'),
			deg = 45 * Math.round(d / 45), _css_android = "<div><span class='g'>&lt;shape</span><span class='r'>xmlns:android</span>=<span class='b'>\"http://schemas.android.com/apk/res/android\"</span><span class='r'>android:shape</span>=<span class='b'>\"rectangle\"</span><span class='g'>&gt</span></div><span class='g'>&lt;gradient</span><br /><span class='r'>android: type </span>=<span class='b'>\"linear\"</span><br />" + a + "<span class='r'>android: startColor </span>=<span class='b'>\"#" + aplha_hex_first + "" + ie_hex_first + '"</span><br />' + f + "<span class='r'>android:endColor</span>=<span class='b'>\"#" + aplha_hex_last + "" + ie_hex_last + "\"</span><br/><span class='r'>android:angle</span>=<span class='b'>\"" + deg + "\"</span><span class='g'>/&gt</span><br/><div><span class='g'>&lt;/shape&gt</span></div>",
			_css_android += "<br/>-------------------------------------------------<br/>", _css_android += "<div><span class='g '>&lt;shape</span> <span class='r'>xmlns:android</span>=<span class='b'>\"http://schemas.android.com/apk/res/android\"</span><span class='r'>android:shape</span>=<span class='b'>\"rectangle\"</span><span class='g'>&gt</span></div><span class='g'>&lt;gradient</span><br/><span class='r'>android:type</span>=<span class='b'>\"radial\"</span><br/><span class='r'>android:centerX</span>=<span class='b'>\"50%\"</span><br/><span class='r'>android:centerY</span>=<span class='b'>\"50%\"</span><br/><span class='r'>android:startColor</span>=<span class='b'>\"#" + aplha_hex_first + "" + ie_hex_first + '"</span> <br/>' + f + "<span class='r'> android: endColor </span>=<span class='b'>\"#" + aplha_hex_last + "" + ie_hex_last + "\"</span> <br /><span class='r'>android: gradientRadius </span>=<span class='b'>\"" + c[1][0] + "\"</span><span class='g'> /&gt</span><br /><div><span class='g'> &lt;/shape&gt;</span >< /div>",
			ca.html(_css_android);
		else if ("canvas" == R) {
			a = "";
			f = $("#canvas_w").val();
			m = $("#canvas_h").val();
			for (b = 0; b < len; b++) rgba = "rgba(" + I(c[b][1]) + "," + J(c[b][1]) + "," + K(c[b][1]) + "," + c[b][2] / 100 + ")", a += "<span class='r'>grad</span>.addColorStop(" + c[b][0] / 100 + ", <span class='b'>'" + rgba + "'</span>);<br/>";
			if ("l" == z) touchpoint = Ga(f, m, d), _css_canvas = "<div> <span class='g'>&lt;canvas</span> <span class='r'>id</span>=<span class='b'>'canvas'</span> <span class='r'>width</span>=<span class='b'>'" + f + "'</span> <span class='r'>height</span>=<span class='b'>'" + m + "'</span> <span class='g'>&gt;&lt;/canvas&gt;</span> </div> <br/> <div><span class='g'> &lt;script&gt;</span> </div> <span class='g'>var</span> <span class='r'>canvas</span> = <span class='r'>document</span>.getElementById(<span class='b'>'canvas'</span>); <br/><span class='g'>var</span> <span class='r'>context</span> = <span class='r'>canvas</span>.getContext(<span class='b'>'2d'</span>); <br/> <span class='g'>var</span> <span class='r'>grad</span> = <span class='r'>context</span>.createLinearGradient(" + touchpoint.x0 + "," + touchpoint.y0 + "," + touchpoint.x1 + "," + touchpoint.y1 + ");<br/><br/>" + a + "<br/><span class='r'>context</span>.fillStyle = <span class='r'>grad</span>;<br/><span class='r'>context</span>.fillRect(0, 0, " + f + "," + m + "); <br/> <div> <span class='g'>&lt;\/script&gt;</span> </div>";
			else {
				var e = scaleY = 1,
					h = invScaleY = 1,
					g = f / Math.sqrt(2),
					k = m / Math.sqrt(2),
					n = f / 2,
					q = m / 2,
					g = 0 == g ? .25 : g,
					k = 0 == k ? .25 : k;
				g >= k ? (h = e = 1, scaleY = k / g, invScaleY = g / k, touchpoint = {
					a: n,
					b: ba(q * invScaleY),
					c: 0,
					d: ba(n),
					e: ba(q * invScaleY),
					f: ba(g),
					g: e,
					h: scaleY,
					i: ba(f * h),
					j: ba(m * invScaleY)
				}) : (invScaleY = scaleY = 1, h = k / g, touchpoint = {
					a: n * h,
					b: q,
					c: 0,
					d: n * h,
					e: q,
					f: k,
					g: g / k,
					h: scaleY,
					i: f * h,
					j: m * invScaleY
				});
				_css_canvas = "<div> <span class='g'>&lt;canvas</span> <span class='r'>id</span>=<span class='b'>'canvas'</span> <span class='r'>width</span>=<span class='b'>'" + f + "'</span> <span class='r'>height</span>=<span class='b'>'" + m + "'</span> <span class='g'>&gt;&lt;/canvas&gt;</span> </div> <br/> <div> <span class='g'>&lt;script&gt;</span> </div> <span class='g'>var</span> <span class='r'>canvas</span> = <span class='r'>document</span>.getElementById(<span class='b'>'canvas'</span>); <br/><span class='g'>var</span> <span class='r'>context</span> = <span class='r'>canvas</span>.getContext(<span class='b'>'2d'</span>); <br/> <span class='g'>var</span> <span class='r'>grad</span> = <span class='r'>context</span>.createRadialGradient(" + touchpoint.a + "," + touchpoint.b + "," + touchpoint.c + "," + touchpoint.d + "," + touchpoint.e + "," + touchpoint.f + ");<br/><br/>" + a + "<br/><span class='r'>context</span>.setTransform(" + touchpoint.g + ",0,0," + touchpoint.h + ",0,0);<br/><span class='r'>context</span>.fillStyle = <span class='r'>grad</span>;<br/><span class='r'>context</span>.fillRect(0, 0, " + touchpoint.i + "," + touchpoint.j + "); <br/> <div> <span class='g'>&lt;\/script&gt;</span> </div>"
			}
			ca.html(_css_canvas)
		} else if ("svg" == R) {
			a = "";
			for (b = 0; b < len; b++) rgba = "rgb(" + I(c[b][1]) + "," + J(c[b][1]) + "," + K(c[b][1]) + ")", pos = c[b][0] / 100, a += "<span class='g'>&lt;stop</span> <span class='r'>offset</span>=<span class='b'>\"" + c[b][0] + "%\"</span> <span class='r'>style</span>=<span class='b'>\"stop-color: " + rgba + ";stop - opacity: " + c[b][2] / 100 + "\"</span><span class='g'>/&gt;</span><br/>";
			"l" == z ? (touchpoint = Ga("100", "100", d),
					_css_svg = "<div><span class='g'>&lt;svg</span> <span class='r'>xmlns</span>=<span class='b'>\"http://www.w3.org/2000/svg\"</span> <span class='r'>width</span>=<span class='b'>\"200px\"</span> <span class='r'>height</span>=<span class='b'>\"200px\"</span> <span class='g'>&gt;</span> </div> <div> <span class='g'>&lt;defs&gt;</span> <br/> <span class='g'>&lt;linearGradient</span> <span class='r'>id</span>=<span class='b'>\"lgrad\"</span> <span class='r'>x1</span>=<span class='b'>\"" + touchpoint.x0 + "%\"</span> <span class='r'>y1</span>=<span class='b'>\"" + touchpoint.y0 + "%\"</span> <span class='r'>x2</span>=<span class='b'>\"" + touchpoint.x1 + "%\"</span> <span class='r'>y2</span>=<span class='b'>\"" + touchpoint.y1 + "%\"</span> <span class='g'>&gt;</span> <br/>" + a + " <span class='g'>&lt;/linearGradient&gt;</span> <br/> </div> <div> <span class='g'>&lt;/defs&gt;</span> </div> <div><span class='g'>&lt;rect</span> <span class='r'>x</span>=<span class='b'>\"0\"</span> <span class='r'>y</span>=<span class='b'>\"0\"</span> <span class='r'>width</span>=<span class='b'>\"100%\"</span> <span class='r'>height</span>=<span class='b'>\"100%\"</span> <span class='r'>fill</span>=<span class='b'>\"url(#lgrad)\"</span><span class='g'>/&gt;</span></div> <div><span class='g'>&lt;/svg&gt;</span></div>") :
				_css_svg = "<div><span class='g'>&lt;svg</span> <span class='r'>xmlns</span>=<span class='b'>\"http://www.w3.org/2000/svg\"</span> <span class='r'>width</span>=<span class='b'>\"200px\"</span> <span class='r'>height</span>=<span class='b'>\"200px\"</span> <span class='g'>&gt;</span> </div> <div> <span class='g'>&lt;defs&gt;</span> <br/> <span class='g'>&lt;radialGradient</span> <span class='r'>id</span>=<span class='b'>\"rgrad\"</span>  <span class='r'>cx</span>=<span class='b'>\"50%\"</span> <span class='r'>cy</span>=<span class='b'>\"50%\"</span> <span class='r'>r</span>=<span class='b'>\"75%\"</span> &gt; <br/>" + a + " <span class='g'>&lt;/radialGradient&gt;</span> <br/> </div> <div> <span class='g'>&lt;/defs&gt;</span> </div> <div><span class='g'>&lt;rect</span> <span class='r'>x</span>=<span class='b'>\"0\"</span> <span class='r'>y</span>=<span class='b'>\"0\"</span> <span class='r'>width</span>=<span class='b'>\"100%\"</span> <span class='r'>height</span>=<span class='b'>\"100%\"</span> <span class='r'>fill</span>=<span class='b'>\"url(#rgrad)\"</span><span class='g'>/&gt;</span></div> <div><span class='g'>&lt;/svg&gt;</span></div>";
			ca.html(_css_svg)
		}
	};

	function Ha(a) {
		x = 180 - parseInt(a);
		$("#r_aro").rotate(x);
		$("#deg_txt").val(a);
		$("#orientation").val(z)
	}

	function r() {
		c = [];
		tmp_g_stoper_t = [].concat(g);
		tmp_g_stoper_b = [].concat(e);
		E = tmp_g_stoper_t.length;
		F = tmp_g_stoper_b.length;
		tmp_g_stoper_t.sort(function(a, b) {
			return a[0] - b[0]
		});
		tmp_g_stoper_b.sort(function(a, b) {
			return a[0] - b[0]
		});
		b = E - 1;
		do c.push([tmp_g_stoper_t[b][0], "c", tmp_g_stoper_t[b][1]]); while (b--);
		b = F - 1;
		do La(c, tmp_g_stoper_b[b][0]) ? c[L][1] = tmp_g_stoper_b[b][1] : c.push([tmp_g_stoper_b[b][0], tmp_g_stoper_b[b][1], "a"]); while (b--);
		c.sort(function(a, b) {
			return a[0] - b[0]
		});
		len = c.length;
		c[0][1] = tmp_g_stoper_b[0][1];
		c[0][2] = tmp_g_stoper_t[0][1];
		c[len - 1][1] = tmp_g_stoper_b[F - 1][1];
		c[len - 1][2] = tmp_g_stoper_t[E - 1][1];
		for (b = 0; b < len; b++) {
			if ("c" == c[b][1]) {
				for (u = b; u < len && "c" == c[u][1]; u++);
				calc = (c[b][0] - c[b - 1][0]) / (c[u][0] - c[b - 1][0]);
				g_arr_r = I(c[b - 1][1]) + (I(c[u][1]) - I(c[b - 1][1])) * calc;
				g_arr_g = J(c[b - 1][1]) + (J(c[u][1]) - J(c[b - 1][1])) * calc;
				g_arr_b = K(c[b - 1][1]) + (K(c[u][1]) - K(c[b - 1][1])) * calc;
				calc = ha(g_arr_r, g_arr_g, g_arr_b);
				c[b][1] = calc
			}
			if ("a" == c[b][2]) {
				for (u = b; u < len && "a" == c[u][2]; u++);
				calc = (c[b][0] - c[b - 1][0]) / (c[b + 1][0] - c[b - 1][0]) * (c[u][2] - c[b - 1][2]);
				c[b][2] = parseInt(c[b - 1][2]) + parseInt(calc)
			}
		}
	}

	function xa(a) {
		g = [];
		e = [];
		y = H = 0;
		a = a.split("&");
		var f = a[0].split(","),
			m = a[1].split(",");
		E = m.length;
		F = f.length;
		b = E - 1;
		do p = m[b].split("_"), g.push([p[0], p[1]]); while (b--);
		b = F - 1;
		do p = f[b].split("_"), e.push([p[0], p[1]]); while (b--);
		degtype = a[2].split("_");
		z = degtype[0];
		d = 0;
		degtype[1] && (d = degtype[1]);
		ie_degree = 1;
		if (45 < d && 135 > d || 225 < d && 315 > d) ie_degree = 0;
		g.sort(function(a, b) {
			return a[0] - b[0]
		});
		e.sort(function(a, b) {
			return a[0] - b[0]
		});
		2 < E && $("#alpha_delete").removeAttr("disabled");
		2 < F && $("#color_delete").removeAttr("disabled");
		r();
		ia(c[0][1]);
		aa();
		M();
		q();
		n();
		Ha(d)
	}

	function ya() {
		var a = "";
		F = e.length;
		for (b = 0; b < F; b++) a += e[b][0] + "_" + e[b][1] + ",";
		a = a.slice(0, -1) + "&";
		E = g.length;
		for (b = 0; b < E; b++) a += g[b][0] + "_" + g[b][1] + ",";
		return a.slice(0, -1) + "&" + z + "_" + d
	}
	var v = 0,
		w = 0,
		b = 0,
		u = 0,
		N = 0,
		O = 0,
		P = 0,
		Ca, Da, Ea, ua = 0,
		L, R = "rgba",
		ca = $("#code_"),
		W = $("#c_hue"),
		X = $("#c_sat"),
		Y = $("#c_lum"),
		ja = Math,
		Ja = ja.min,
		Ka = ja.max,
		Ia, c = [],
		E, F, g = [],
		e = [],
		H = 0,
		y = 0,
		z = "l",
		d = 0;
	ie_degree = 1;
	var Z = $("#m_col"),
		Ma = $("#m_pt"),
		Fa = $("#v_col"),
		Na = $("#v_pt");
	$("#r_center");
	$("#s_bg");
	var h = {
			elem: Ma,
			x: 0,
			y: 0,
			state: !1
		},
		t = {
			elem: Na,
			y: 0,
			state: !1
		},
		ma = !1,
		na = 0,
		oa = !1,
		pa = 0,
		qa = !1,
		da = !0,
		k = $("#m_col").offset(),
		A = $("#v_col").offset(),
		S = $("#r_center").offset(),
		Q = $("#s_bg").offset();
	D = k.top;
	C = k.left;
	U = k.top + 256;
	V = k.left + 256;
	B = A.top;
	T = A.top + 256;
	fa = S.left - v;
	ga = S.top - w;
	x = 0;
	var G = Q.left,
		ea = Q.left + 450;
	$("#m_col").mousedown(function() {
		h.state || (h.x = v - 7, h.y = w - 7, v < C && (h.x = C - 7), v > V && (h.x = V - 7), D > w && (h.y = D - 7), U < w && (h.y = U - 7), h.state = !0, $(h.elem).offset({
			left: h.x,
			top: h.y
		}), k = Z.offset(), hue = Math.round((h.x - k.left + 7) / 256 * 360), sat = Math.round(100 - (h.y - k.top + 7) / 256 * 100), W.val(hue), X.val(sat), la());
		return !1
	});
	$("#v_col").mousedown(function() {
		t.state || (t.y = w - 5, B > w && (t.y = B - 5), T < w && (t.y = T - 5), t.state = !0, $(t.elem).offset({
			top: t.y
		}), lum = Math.round(100 - (t.y - A.top + 5) / 256 * 100), Y.val(lum), wa());
		return !1
	});
	$("#r_bg").mousedown(function() {
		if (!ma) {
			fa = S.left - v;
			ga = S.top - w;
			x = Math.round(Math.atan2(ga, fa) * (180 / Math.PI));
			z = "l";
			$("#orientation").val("l");
			$("#r_aro").rotate(x);
			x = 180 - x;
			$("#deg_txt").val(x);
			d = x;
			ie_degree = 1;
			if (45 < d && 135 > d || 225 < d && 315 > d) ie_degree = 0;
			q();
			n();
			ma = !0
		}
		return !1
	});
	$(".cs_t").mousedown(function() {
		da && (G = v - Q.left - 5, $(".cs_t .cs_tpt").removeClass("active"), t_alpha = $("#t_alpha").val(), pos = Math.round((G + 5) / 4.5), opacity = t_alpha / 100, $("#t_loc").val(pos), addelement = "<div class='cs_tpt active' style='left:" + G + "px' ><div style='background-color:black;opacity:" + opacity + ";filter:alpha(opacity=" + t_alpha + ")'></div></div>", $(".cs_t").append(addelement), H = g.length, g.push([pos, t_alpha]), 2 == H && $("#alpha_delete").removeAttr("disabled"), r(), q(), n());
		oa = !0;
		return !1
	});
	$(".cs_b").mousedown(function() {
		da && (G = v - Q.left - 5, $(".cs_b .cs_bpt").removeClass("active"), colhex = $("#c_hex").val(), l = Number(G) + 5, pos = Math.round(l / 450 * 100), $("#b_loc").val(pos), addelement = "<div class='cs_bpt active' style='left:" + G + "px' ><div style='background-color:#" + colhex + "' ></div></div>", $(".cs_b").append(addelement), y = e.length, e.push([pos, colhex]), 2 == y && $("#color_delete").removeAttr("disabled"), r(), q(), n());
		qa = !0;
		return !1
	});
	$(document).mousemove(function(a) {
		v = a.pageX;
		w = a.pageY;
		h.state && (k = Z.offset(), D = k.top, C = k.left, U = k.top + 256, V = k.left + 256, $(h.elem).offset({
			left: h.x,
			top: h.y
		}), h.x = v - 7, h.y = w - 7, v < C && (h.x = C - 7), v > V && (h.x = V - 7), D > w && (h.y = D - 7), U < w && (h.y = U - 7), W.val(Math.round((h.x - k.left + 7) / 256 * 360)), X.val(Math.round(100 - (h.y - k.top + 7) / 256 * 100)), la());
		t.state && (A = $("#v_col").offset(), B = A.top, T = A.top + 256, $(t.elem).offset({
			top: t.y
		}), t.y = w - 5, B > w && (t.y = B - 5), T < w && (t.y = T - 5), Y.val(Math.round(100 - (t.y - A.top + 5) / 256 * 100)), wa());
		if (ma) {
			S = $("#r_center").offset();
			fa = S.left - v;
			ga = S.top - w;
			x = Math.round(Math.atan2(ga, fa) * (180 / Math.PI));
			z = "l";
			$("#orientation").val("l");
			$("#r_aro").rotate(x);
			x = 180 - x;
			ie_degree = 1;
			if (45 < d && 135 > d || 225 < d && 315 > d) ie_degree = 0;
			$("#deg_txt").val(x);
			d = x;
			n();
			q()
		}
		oa && (2 < g.length && 300 > w ? (oa = !1, $("#alpha_delete").trigger("click")) : (Q = $("#s_bg").offset(), G = Q.left, ea = Q.left + 450, na = v - 5, G > v && (na = G - 5), ea < v && (na = ea - 5), $(".cs_t .active").offset({
			left: na
		}), l = $(".cs_t .active").css("left"), pos = Number(l.slice(0, -2)) + 5, pos = Math.round(pos / 450 * 100), g[H][0] = pos, $("#t_loc").val(pos), r(), q(), n()));
		qa && (2 < e.length && 600 < w ? (qa = !1, $("#color_delete").trigger("click")) : (Q = $("#s_bg").offset(), G = Q.left, ea = Q.left + 450, pa = v - 5, G > v && (pa = G - 5), ea < v && (pa = ea - 5), $(".cs_b .active").offset({
			left: pa
		}), l = $(".cs_b .active").css("left"), pos = Number(l.slice(0, -2)) + 5, pos = Math.round(pos / 450 * 100), e[y][0] = pos, $("#b_loc").val(pos), r(), q(), n()))
	});
	$(document).mouseup(function() {
		h.state = !1;
		qa = oa = ma = t.state = !1
	});
	$(".cs_t").on("mouseout", ".cs_tpt", function() {
		da = !0
	}).on("mouseover", ".cs_tpt", function() {
		da = !1
	}).on("mousedown", ".cs_tpt", function() {
		$(".cs_tpt").removeClass("active");
		$(this).addClass("active");
		var a = $("div", this).css("opacity"),
			a = 100 * a;
		$("#t_alpha").val(a);
		l = $(this).css("left");
		H = $(".cs_tpt").index(this);
		r();
		pos = Number(l.slice(0, -2)) + 5;
		pos = Math.round(pos / 450 * 100);
		$("#t_loc").val(pos)
	});
	$(".cs_b").on("mouseout", ".cs_bpt", function() {
		da = !0
	}).on("mouseover", ".cs_bpt", function() {
		da = !1
	}).on("mousedown", ".cs_bpt", function() {
		$(".cs_bpt").removeClass("active");
		$(this).addClass("active");
		var a = $("div", this).css("background-color");
		l = $(this).css("left");
		y = $(".cs_bpt").index(this);
		r();
		pos = Number(l.slice(0, -2)) + 5;
		pos = Math.round(pos / 450 * 100);
		$("#b_loc").val(pos);
		hex = za(a);
		ia(hex);
		hex = "#" + hex;
		$("#b_col").val(hex)
	});
	ca.dblclick(function() {
		var a = document,
			b = a.getElementById("code_");
		if (a.body.createTextRange) a = document.body.createTextRange(), a.moveToElementText(b), a.select();
		else if (window.getSelection) {
			var c = window.getSelection(),
				a = document.createRange();
			a.selectNodeContents(b);
			c.removeAllRanges();
			c.addRange(a)
		}
	});
	$("div.g_plate").on("click", ".presetc", function() {
		Ia = $(this).attr("g_str");
		xa(Ia)
	});
	$(".preset_a div").click(function() {
		al = $(this).attr("alpha_val");
		g[H][1] = al;
		r();
		aa();
		q();
		n()
	});
	$(".preset_c div").click(function() {
		var a = $(this).css("background-color");
		hex = za(a);
		e[y][1] = hex;
		ia(hex);
		r();
		M();
		q();
		n()
	});
	$("#alpha_delete").click(function() {
		a_len = g.length;
		2 < a_len && (g.splice(H, 1), console.log(g), H = 0, r(), aa(), q(), n(), 3 == a_len && $("#alpha_delete").attr("disabled", "disabled"))
	});
	$("#color_delete").click(function() {
		b_len = e.length;
		2 < b_len && (e.splice(y, 1), y = 0, r(), M(), q(), n(), 3 == b_len && $("#color_delete").attr("disabled", "disabled"))
	});
	$("#orientation").on("change", function() {
		z = $(this).val();
		q();
		n()
	});
	$("#t_alpha").on("keyup", function() {
		al = $(this).val();
		100 < al && (al = 100, $(this).val(100));
		g[H][1] = al;
		r();
		aa();
		q();
		n()
	});
	$("#t_loc").on("keyup", function() {
		al = $(this).val();
		100 < al && (al = 100, $(this).val(100));
		g[H][0] = al;
		r();
		aa();
		q();
		n()
	});
	$("#b_col").on("keyup", function() {
		al = $(this).val();
		/^(#[A-Fa-f0-9]{6})|([A-Fa-f0-9]{6})$/.test(al) && (6 == al.length && (al = "#" + al), al = al.substr(1, 6), e[y][1] = al, ia(al), r(), M(), q(), n())
	});
	$("#c_hex").on("keyup", function() {
		al = $(this).val();
		/^(#[A-Fa-f0-9]{6})|([A-Fa-f0-9]{6})$/.test(al) && (6 == al.length && (al = "#" + al), al = al.substr(1, 6), e[y][1] = al, ia(al), r(), M(), q(), n())
	});
	$("#b_loc").on("keyup", function() {
		al = $(this).val();
		100 < al && (al = 100, $(this).val(100));
		e[y][0] = al;
		r();
		M();
		q();
		n()
	});
	$("#c_hue").on("keyup", function() {
		al = $(this).val();
		360 < al && (al = 360, $(this).val(360));
		var a = al,
			a = Math.round(256 * a / 360);
		k = Z.offset();
		C = k.left + a - 7;
		$(h.elem).offset({
			left: C
		});
		la()
	});
	$("#c_sat").on("keyup", function() {
		al = $(this).val();
		100 < al && (al = 100, $(this).val(100));
		var a = al,
			a = Math.round(256 * a / 100);
		k = Z.offset();
		D = k.top + (256 - a - 7);
		$(h.elem).offset({
			top: D
		});
		la()
	});
	$("#c_lum").on("keyup", function() {
		al = $(this).val();
		100 < al && (al = 100, $(this).val(100));
		var a = al,
			a = Math.round(256 - 256 * a / 100 - 5);
		A = $("#v_col").offset();
		B = A.top + a;
		$(t.elem).offset({
			top: B
		});
		wa()
	});
	$("#c_red").on("keyup", function() {
		al = $(this).val();
		255 < al && (al = 255, $(this).val(255));
		va()
	});
	$("#c_green").on("keyup", function() {
		al = $(this).val();
		255 < al && (al = 255, $(this).val(255));
		va()
	});
	$("#c_blue").on("keyup", function() {
		al = $(this).val();
		255 < al && (al = 255, $(this).val(255));
		va()
	});
	$("#deg_txt").on("keyup", function() {
		al = $(this).val();
		360 < al && (al = 360, $(this).val(360));
		d = "" == al ? 0 : al;
		ie_degree = 1;
		if (45 < d && 135 > d || 225 < d && 315 > d) ie_degree = 0;
		z = "l";
		Ha(al);
		q();
		n()
	});
	$("#canvas_h").on("keyup", function() {
		n()
	});
	$("#canvas_w").on("keyup", function() {
		n()
	});
	$("#addgradient").click(function() {
		var a = "",
			f = "",
			e = "";
		len = c.length;
		for (b = 0; b < len; b++) alpha = c[b][2] / 100, rgba = "rgba(" + I(c[b][1]) + "," + J(c[b][1]) + "," + K(c[b][1]) + "," + alpha + ")", 0 == b ? (ie_hex_first = c[b][1], f += "color-stop(" + c[b][0] + "%, " + rgba + ")", e += "color-stop(" + (100 - c[b][0]) + "%, " + rgba + ")", a += rgba + " " + c[b][0] + "%") : (f += ", color-stop(" + c[b][0] + "%, " + rgba + ")", e = "color-stop(" + (100 - c[b][0]) + "%, " + rgba + "), " + e, a += ", " + rgba + " " + c[b][0] + "%");
		ie_hex_last = c[len - 1][1];
		"l" == z ? (degree_pos = Math.round(d / 90), ie_old = 0 == degree_pos ? 'startColorstr="#' + ie_hex_first + '", endColorstr="#' + ie_hex_last + '"' : 1 == degree_pos ? 'startColorstr="#' + ie_hex_last + '", endColorstr="#' + ie_hex_first + '"' : 2 == degree_pos ? 'startColorstr="#' + ie_hex_last + '", endColorstr="#' + ie_hex_first + '"' : 'startColorstr="#' + ie_hex_first + '", endColorstr="#' + ie_hex_last + '"', degree_pos = Math.round(d / 45), old_webkit_rgba = 0 == degree_pos ? "left top, right top, " + f : 1 == degree_pos ? "left bottom, right top, " + f : 2 == degree_pos ? "left top, left bottom, " + e : 3 == degree_pos ? "left top, right bottom, " + e : 4 == degree_pos ? "left top, right top, " + e : 5 == degree_pos ? "left bottom, right top, " + e : 6 == degree_pos ? "left top, left bottom, " + f : 7 == degree_pos ? "left top, right bottom, " + f : "left top, right top, " + f, w3cdeg = Math.abs(d - 450) % 360, _css_rgba = "background: -moz-linear-gradient(" + d + "deg, " + a + ");background: -webkit-gradient(linear, " + old_webkit_rgba + ");background: -webkit-linear-gradient(" + d + "deg, " + a + ");background: -o-linear-gradient(" + d + "deg, " + a + ");background: -ms-linear-gradient(" + d + "deg, " + a + ");background: linear-gradient(" + w3cdeg + "deg, " + a + ");filter: progid:DXImageTransform.Microsoft.gradient(" + ie_old + ",GradientType=" + ie_degree + " );") : _css_rgba = "background: -moz-radial-gradient(center, ellipse cover, " + a + ");background: -webkit-gradient(radial, center center, 0px, center center, 100%, " + f + ");background:-webkit-radial-gradient(center, ellipse cover, " + a + ");background: -o-radial-gradient(center, ellipse cover, " + a + ");background: -ms-radial-gradient(center, ellipse cover, " + a + ");background:radial-gradient(ellipse at center, " + a + ');filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#' + ie_hex_first + '", endColorstr="#' + ie_hex_last + '",GradientType=' + ie_degree + " ); ";
		ulinkstr = ya();
		addelement = "<div class='preset'><div class='presetc' g_str='" + ulinkstr + "' style='" + _css_rgba + "' ></div></div>";
		$(".g_plate").prepend(addelement)
	});
	$("#ulink").hover(function() {
		ulinkstr = "?" + ya();
		$(this).attr("href", ulinkstr)
	});
	$("#exportbtn").click(function() {
		ulinkstr = "image.php?" + ya();
		var a = [
			[],
			[]
		];
		"l" == z ? a[0].push("linear", d, "farthest-side", "center center", "50", "50") : a[0].push("radial", d, "farthest-side", "center center", "50", "50");
		for (var b = 0, e = c.length; b < e; b++) alpha = c[b][2] / 100, rgba = "rgba(" + I(c[b][1]) + "," + J(c[b][1]) + "," + K(c[b][1]) + "," + alpha + ")", a[1].push([rgba, c[b][0]]);
		ulinkstr2 = "../css-generator/gradient/?" + encodeURIComponent(JSON.stringify(a));
		$("#gtoimg").attr("href", ulinkstr);
		$("#gtocssgen").attr("href", ulinkstr2)
	});
	$("#rev_stoper").click(function() {
		E = g.length;
		F = e.length;
		b = E - 1;
		do g[b][0] = 100 - g[b][0]; while (b--);
		b = F - 1;
		do e[b][0] = 100 - e[b][0]; while (b--);
		r();
		aa();
		M();
		q();
		n()
	});
	$("div.tab span.tab_head").click(function() {
		R = $(this).data("name");
		$("div.tab span.tab_head").addClass("hide");
		$("#tab_" + R).removeClass("hide");
		$("div.wmsg div").hide();
		$("#msg_" + R).show();
		n()
	});
	sPageURL = window.location.search.substring(1);
	"" != sPageURL ? xa(sPageURL) : xa("0_99DAFF,100_008080&0_100,100_100&l_45")
});